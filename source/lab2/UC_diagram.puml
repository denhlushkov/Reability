@startuml
left to right direction
skinparam packageStyle rectangle

actor "Patient" as P
actor "Therapist" as T
actor "External Payment System" as EPS

package MedicalSystem {
    ' Core Use Cases (UC01 - UC10)
    (UC01: Book Session) as UC_BOOK
    (UC02: View Schedule) as UC_VIEW_SCHED
    (UC03: View Invoice) as UC_VIEW_INV
    (UC04: Pay Invoice) as UC_PAY
    (UC05: Manage Availability) as UC_MANAGE_T_SCHED
    (UC06: Record Patient Data) as UC_RECORD_DATA
    (UC07: Create Invoice) as UC_CREATE_INV
    (UC08: Process Transaction) as UC_PROCESS_TRANS
    (UC09: Update Session Status) as UC_UPDATE_STATUS
    (UC10: Send Notification) as UC_NOTIFY
    (UC11: Check Availability) as UC_CHECK_AVAIL
    (UC12: Check Patient History) as UC_CHECK_HISTORY

    P -- UC_BOOK
    P -- UC_VIEW_SCHED
    P -- UC_VIEW_INV
    P -- UC_PAY
    T -- UC_MANAGE_T_SCHED
    T -- UC_RECORD_DATA
    T -- UC_CREATE_INV
    EPS -- UC_PROCESS_TRANS

    UC_BOOK .> UC_CHECK_AVAIL : <<include>>
    UC_BOOK .> UC_NOTIFY : <<extend>> 
    UC_VIEW_SCHED .> UC_CHECK_AVAIL : <<include>>
    UC_PAY .> UC_PROCESS_TRANS : <<include>>
    UC_RECORD_DATA .> UC_CHECK_HISTORY : <<include>>
    UC_CREATE_INV .> UC_UPDATE_STATUS : <<include>>
    UC_PROCESS_TRANS .> UC_UPDATE_STATUS : <<include>>
    UC_UPDATE_STATUS .> UC_NOTIFY : <<include>>
    UC_MANAGE_T_SCHED .> UC_NOTIFY : <<extend>> 
    UC_CHECK_AVAIL .> UC_CHECK_HISTORY : <<extend>>
    UC_CREATE_INV .> UC_RECORD_DATA : <<extend>>
}
@enduml